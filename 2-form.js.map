{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst form = document.querySelector('.feedback-form');\n\nconst fillFormFields = () => {\n  try {\n    if (localStorage.length === 0) {\n      return;\n    }\n\n    const savedItemsToLS = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n    formData = savedItemsToLS;\n    for (const key in savedItemsToLS) {\n      form.elements[key].value = savedItemsToLS[key];\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nfillFormFields();\n\nconst handleInput = event => {\n  const { target: fieldsForm } = event;\n\n  const fieldsName = fieldsForm.name;\n  const fieldsValue = fieldsForm.value;\n  formData[fieldsName] = fieldsValue;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst handleSubmit = event => {\n  event.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  localStorage.removeItem('feedback-form-state');\n  event.currentTarget.reset();\n  console.log(formData);\n  formData = { email: '', message: '' };\n};\n\nform.addEventListener('input', handleInput);\nform.addEventListener('submit', handleSubmit);\n\n// const formData = {\n//   email: '',\n//   message: '',\n// };\n// const form = document.querySelector('.feedback-form');\n\n// const localStorageKey = 'feedback-form-state';\n\n// console.log(form);\n\n// form.addEventListener('submit', handleSubmit);\n\n// form.addEventListener('input', handleInput);\n\n// const savedData = JSON.parse(localStorage.getItem(localStorageKey));\n// if (savedData) {\n//   formData.email = savedData.email ?? '';\n//   formData.message = savedData.message ?? '';\n//   form.elements.email.value = formData.email;\n//   form.elements.message.value = formData.message;\n// }\n\n// function handleInput(event) {\n//   (formData.email = form.elements.email.value),\n//     (formData.message = form.elements.message.value);\n//   localStorage.setItem(localStorageKey, JSON.stringify(formData));\n// }\n\n// function handleSubmit(event) {\n//   event.preventDefault();\n//   if (formData.email === '' || formData.message === '') {\n//     alert('Fill please all fields');\n//     return;\n//   }\n\n//   localStorage.removeItem(localStorageKey);\n//   form.reset();\n//   console.log({ ...formData });\n//   (formData.email = ''), (formData.message = '');\n// }\n"],"names":["formData","form","fillFormFields","savedItemsToLS","key","error","handleInput","event","fieldsForm","fieldsName","fieldsValue","handleSubmit"],"mappings":"oDAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAiB,IAAM,CAC3B,GAAI,CACF,GAAI,aAAa,SAAW,EAC1B,OAGF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EACIH,EAAWG,EACX,UAAWC,KAAOD,EAChBF,EAAK,SAASG,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAEhD,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EACAH,IAEA,MAAMI,EAAcC,GAAS,CAC3B,KAAM,CAAE,OAAQC,CAAY,EAAGD,EAEzBE,EAAaD,EAAW,KACxBE,EAAcF,EAAW,MAC/BR,EAASS,CAAU,EAAIC,EAEvB,aAAa,QAAQ,sBAAuB,KAAK,UAAUV,CAAQ,CAAC,CACtE,EAEMW,EAAeJ,GAAS,CAE5B,GADAA,EAAM,eAAc,EAChBP,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACD,CACD,aAAa,WAAW,qBAAqB,EAC7CO,EAAM,cAAc,QACpB,QAAQ,IAAIP,CAAQ,EACpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,EAEAC,EAAK,iBAAiB,QAASK,CAAW,EAC1CL,EAAK,iBAAiB,SAAUU,CAAY"}